# WK.2

# BOJ 2206 벽 부수고 이동하기 
* 279488KB 1580ms
- [x] N의 크기를 확인 하였는가?
- [x] 문제 제약사항을 확인 하였는가?
- [ ] 시간복잡도를 계산 할 수 있는가?
- [x] 적절한 자료구조 활용하였는가?
- [x] 핵심 알고리즘을 구현할 수 있는가?
- [x] 문제를 풀었는가?

### 핵심 알고리즘
* 단순한 최단거리 그래프 탐색이 아닌 원래는 못가는 벽을 단 한 번 뚫고 지나 갈 수 있다는 차별점이 있는 문제였다.
* 첫 아이디어는 board 상의 1(벽)을 한개씩 뚫고 보통의 bfs를 각각 진행하는 것
  * 최대 1000 * 1000 배열을 1의 개수만큼 복사하거나 1의 개수만큼 요소를 수정해가면서 일련의 코드를 반복해야 하기 때문에 시간제한 2초 내에 말도 안된다고 생각했다
   
* 두 번째 아이디어는 bfs의 매개변수로 brk라는 변수를 추가로 줘서 brk가 2가 되면 리턴시키고 그 전에는 1(벽)을 만나도 brk를 1증가 시키고 이동가능하게 해서 bfs를 돌리는 것 
  * visited 배열을 이동거리를 저장하는 용도 겸 방문체크를 하는 용도로 사용했는데 예제 입력 두개는 통과가 되길래 된줄 알았다. 
  * 제출 후 틀렸습니다 떠서 직접 테케를 꼬아보았다.
    ```
    5 6
    010100
    010110
    000110
    111110
    111110
    ```
    ```
    # visited 배열
    1 2 3 0 0 0 
    2 3 4 0 0 0 
    3 4 5 0 0 0 
    4 0 0 0 0 0 
    0 0 0 0 0 0 
    ```
  * 위 테케처럼 (0, 2) 와 (0, 3)에 오른쪽으로 출발한 쪽이 먼저 도착하니 아래쪽으로 출발한 쪽에서는 후에 방문하고 도달하고 오른쪽 벽을 뚫고 갈 수 있음에도 visited 배열에 값이 이미 써져서 아예 접근을 안했다..

* 그래서 고민하고 있다가 우석이가 3차원 배열을 활용하라고 말해줘서 얘기대로 했더니 됐다.   

    3차원 visited 배열 선언부 (처음 해봐서 좀 해맸음)
    ```python
    visited = [[[0]*2 for _ in range(m)] for _ in range(n)]
    ```

    bfs자체는 위와 거의 같다. 그래도 3차원 visited를 활용한 것이 처음이라 다 올림
    ```python
    def bfs(a, b, c):
    dq = deque()
    dq.append((a, b, c))
    # 첫 시작점 거리 1로 할당
    visited[a][b][c] = 1

    while dq:
        x, y, brk = dq.popleft()

        if brk > 1:
            return

        if x == n-1 and y == m-1:
            return visited[x][y][brk]

        for i in range(4):
            nx = x + dx[i]
            ny = y + dy[i]
            if 0 <= nx < n and 0 <= ny < m:
                # 벽이 있고 아직 부술 기회가 있을 때
                if board[nx][ny] == 1 and brk == 0:
                    visited[nx][ny][brk+1] = visited[x][y][brk] + 1
                    dq.append((nx, ny, brk+1))
                # 벽이 없는 통로이고 아직 방문 하지 않았을 때
                elif board[nx][ny] == 0 and visited[nx][ny][brk] == 0:
                    visited[nx][ny][brk] = visited[x][y][brk] + 1
                    dq.append((nx, ny, brk))
    return -1
    ```


